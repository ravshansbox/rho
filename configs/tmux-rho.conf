# Rho tmux config -- optimized for SSH clients (Termius, Blink, etc.)
# Installed by install.sh on macOS/Linux. Not installed on Android (Termux).
# Safe to customize -- install.sh won't overwrite an existing ~/.tmux.conf.

# --- Core behavior ---

# Low escape time for responsive SSH (default 500ms is painful over SSH)
set -g escape-time 10

# Large scroll buffer
set -g history-limit 10000

# Enable mouse (essential for Termius touch interaction)
set -g mouse on

# 256 color support
set -g default-terminal "screen-256color"
set -ga terminal-overrides ",xterm-256color:Tc"

# Start window/pane numbering at 1 (easier on mobile keyboards)
set -g base-index 1
setw -g pane-base-index 1

# Renumber windows when one is closed
set -g renumber-windows on

# --- Status bar (clean, mobile-friendly) ---

set -g status-position bottom
set -g status-interval 30
set -g status-style "bg=colour235,fg=colour248"

# Left: session name
set -g status-left " #S "
set -g status-left-length 20
set -g status-left-style "bg=colour240,fg=colour255,bold"

# Right: time + date (compact)
set -g status-right " %H:%M %b-%d "
set -g status-right-length 20
set -g status-right-style "bg=colour240,fg=colour255"

# Window labels
setw -g window-status-format " #I:#W "
setw -g window-status-current-format " #I:#W "
setw -g window-status-current-style "bg=colour25,fg=colour255,bold"

# --- Key bindings ---

# Prefix: Ctrl-a (easier than Ctrl-b on mobile keyboards)
set -g prefix C-a
unbind C-b
bind C-a send-prefix

# Split panes with | and - (intuitive)
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
unbind '"'
unbind %

# Navigate panes with Alt+arrow (no prefix needed)
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

# Reload config
bind r source-file ~/.tmux.conf \; display "Config reloaded"
